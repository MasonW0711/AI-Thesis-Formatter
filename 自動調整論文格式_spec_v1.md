# 1. æ–‡ä»¶è³‡è¨Š

*   **å°ˆæ¡ˆåç¨±**ï¼šè‡ªå‹•èª¿æ•´è«–æ–‡æ ¼å¼
*   **Spec ä¸»é¡Œå**ï¼šè«–æ–‡æ ¼å¼è‡ªå‹•èª¿æ•´æœå‹™è¨­è¨ˆè¦æ ¼
*   **ç‰ˆæœ¬**ï¼šv1
*   **æ—¥æœŸ**ï¼š2026.02.11
*   **æµ®æ°´å°**ï¼šè‡ªå‹•èª¿æ•´è«–æ–‡æ ¼å¼

# 2. èƒŒæ™¯èˆ‡ç›®æ¨™ï¼ˆWhyï¼‰

è«–æ–‡æ’ç‰ˆæ˜¯æ¯å€‹ç ”ç©¶ç”Ÿéƒ½é ­ç—›çš„å•é¡Œï¼Œç‰¹åˆ¥æ˜¯ç´¢å¼•é ç”Ÿæˆèˆ‡æ ¼å¼èª¿æ•´ï¼Œè€—æ™‚è²»åŠ›ä¸”å®¹æ˜“å‡ºéŒ¯ã€‚æœ¬å°ˆæ¡ˆæ—¨åœ¨é–‹ç™¼ä¸€å¥—è‡ªå‹•åŒ–å·¥å…·ï¼Œé€é Python ç¨‹å¼æ­é… Web UIï¼Œå¹«åŠ©ä½¿ç”¨è€…å¿«é€Ÿã€æº–ç¢ºåœ°å°‡è«–æ–‡èª¿æ•´è‡³ç¬¦åˆå­¸æ ¡è¦ç¯„çš„æ ¼å¼ã€‚

*   **ç—›é»**ï¼š
    *   æ‰‹å‹•èª¿æ•´è«–æ–‡æ ¼å¼ï¼ˆå¦‚æ¨™é¡Œå±¤ç´šã€è¡Œè·ã€é ç¢¼ï¼‰è€—æ™‚ã€‚
    *   ç´¢å¼•é ï¼ˆç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ï¼‰ç”Ÿæˆèˆ‡æ›´æ–°ç¹ç‘£ã€‚
    *   äººå·¥æ“ä½œæ˜“å‡ºéŒ¯ï¼Œå°è‡´æ ¼å¼ä¸ä¸€è‡´æˆ–ä¸ç¬¦è¦ç¯„ã€‚
*   **ç›®æ¨™**ï¼š
    *   æä¾›ä¸€å€‹ç›´è§€çš„ Web UIï¼Œè®“ç„¡ç¨‹å¼èƒŒæ™¯çš„ä½¿ç”¨è€…ä¹Ÿèƒ½è¼•é¬†æ“ä½œã€‚
    *   è‡ªå‹•å¾ç¯„æœ¬æ–‡ä»¶ï¼ˆWord/PDFï¼‰åµæ¸¬æ ¼å¼è¦å‰‡ã€‚
    *   å…è¨±ä½¿ç”¨è€…ç¢ºèªèˆ‡æ‰‹å‹•ä¿®æ­£åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡ã€‚
    *   è‡ªå‹•å¥—ç”¨åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡è‡³ç›®æ¨™è«–æ–‡ï¼ŒåŒ…æ‹¬æ¨™é¡Œå±¤ç´šã€ç´¢å¼•é ç”Ÿæˆç­‰ã€‚
    *   å¤§å¹…æ¸›å°‘è«–æ–‡æ’ç‰ˆæ‰€éœ€æ™‚é–“ï¼Œæé«˜æ•ˆç‡èˆ‡æº–ç¢ºæ€§ã€‚

# 3. ç¯„åœï¼ˆIn Scope / Out of Scopeï¼‰

## 3.1. In Scope âœ…

*   **Web UI é–‹ç™¼**ï¼šæä¾›ä½¿ç”¨è€…å‹å–„çš„ä»‹é¢é€²è¡Œæ–‡ä»¶ä¸Šå‚³ã€æ ¼å¼åµæ¸¬ã€ç¢ºèªèˆ‡å¥—ç”¨ã€‚
*   **è«–æ–‡ç¯„æœ¬è§£æ**ï¼šæ”¯æ´ Word (.docx) åŠ PDF æ ¼å¼ç¯„æœ¬çš„çµæ§‹èˆ‡æ ¼å¼è¦å‰‡åµæ¸¬ã€‚
*   **ç›®æ¨™è«–æ–‡æ ¼å¼èª¿æ•´**ï¼šæ”¯æ´ Word (.docx) æ ¼å¼è«–æ–‡çš„è‡ªå‹•èª¿æ•´ã€‚
*   **æ ¼å¼è¦å‰‡åµæ¸¬**ï¼šè‡ªå‹•è­˜åˆ¥ä¸»æ¨™é¡Œã€å‰¯æ¨™é¡Œã€å…§æ–‡ã€åœ–è¡¨æ¨™é¡Œç­‰å¸¸è¦‹è«–æ–‡å…ƒç´ ã€‚
*   **ä½¿ç”¨è€…ç¢ºèªèˆ‡ä¿®æ­£**ï¼šæä¾›ä»‹é¢è®“ä½¿ç”¨è€…é è¦½åµæ¸¬çµæœï¼Œä¸¦æ‰‹å‹•ä¿®æ­£éŒ¯èª¤ã€‚
*   **è‡ªå‹•å¥—ç”¨æ ¼å¼**ï¼šæ ¹æ“šç¢ºèªçš„è¦å‰‡ï¼Œè‡ªå‹•èª¿æ•´ç›®æ¨™è«–æ–‡çš„å­—é«”ã€å­—è™Ÿã€è¡Œè·ã€æ®µè½é–“è·ã€é é‚Šè·ç­‰ã€‚
*   **ç´¢å¼•é ç”Ÿæˆ**ï¼šè‡ªå‹•ç”Ÿæˆç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ã€‚
*   **çµæœä¸‹è¼‰**ï¼šæä¾›èª¿æ•´å¾Œè«–æ–‡çš„ä¸‹è¼‰åŠŸèƒ½ã€‚
*   **éŒ¯èª¤è™•ç†èˆ‡é€šçŸ¥**ï¼šè™•ç†æ–‡ä»¶è§£ææˆ–æ ¼å¼å¥—ç”¨å¤±æ•—çš„æƒ…æ³ï¼Œä¸¦é€šçŸ¥ä½¿ç”¨è€…ã€‚

## 3.2. Out of Scope âš ï¸

*   **å³æ™‚å”ä½œåŠŸèƒ½**ï¼šä¸æ”¯æ´å¤šäººåŒæ™‚ç·¨è¼¯æˆ–ç‰ˆæœ¬æ§åˆ¶ã€‚
*   **è¤‡é›œåœ–å½¢èˆ‡å…¬å¼æ’ç‰ˆ**ï¼šåƒ…è™•ç†æ–‡å­—èˆ‡åŸºæœ¬åœ–ç‰‡/è¡¨æ ¼çš„æ’ç‰ˆï¼Œä¸æ¶‰åŠè¤‡é›œåœ–å½¢ä½ˆå±€æˆ–æ•¸å­¸å…¬å¼çš„è‡ªå‹•é‡æ’ã€‚
*   **è·¨å¹³å°æ¡Œé¢æ‡‰ç”¨**ï¼šåƒ…æä¾› Web UI æœå‹™ï¼Œä¸é–‹ç™¼ç¨ç«‹æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ã€‚
*   **èˆ‡å­¸æ ¡æ•™å‹™ç³»çµ±æ•´åˆ**ï¼šä¸èˆ‡ä»»ä½•å­¸æ ¡çš„å­¸è¡“ç³»çµ±æˆ–è«–æ–‡æäº¤å¹³å°å°æ¥ã€‚
*   **PDF è¼¸å‡º**ï¼šç›®å‰åƒ…æ”¯æ´ Word è¼¸å‡ºï¼Œä¸æä¾›ç›´æ¥è¼¸å‡º PDF æ ¼å¼çš„åŠŸèƒ½ã€‚
*   **é€²éšèªç¾©åˆ†æ**ï¼šä¸é€²è¡Œè«–æ–‡å…§å®¹çš„èªç¾©ç†è§£æˆ–èªæ³•æª¢æŸ¥ã€‚

# 4. åè©å®šç¾©ï¼ˆGlossaryï¼‰

*   **è«–æ–‡ç¯„æœ¬ (Template Document)**ï¼šä½¿ç”¨è€…ä¸Šå‚³çš„ Word æˆ– PDF æ–‡ä»¶ï¼Œç”¨æ–¼å­¸ç¿’ç›®æ¨™æ ¼å¼è¦å‰‡ã€‚âœ…
*   **ç›®æ¨™è«–æ–‡ (Target Document)**ï¼šä½¿ç”¨è€…ä¸Šå‚³çš„ Word æ–‡ä»¶ï¼Œéœ€è¦é€²è¡Œæ ¼å¼èª¿æ•´çš„è«–æ–‡è‰ç¨¿ã€‚âœ…
*   **æ ¼å¼åµæ¸¬å¼•æ“ (Format Detection Engine)**ï¼šè² è²¬è§£æè«–æ–‡ç¯„æœ¬ï¼Œæå–æ ¼å¼è¦å‰‡çš„å¾Œç«¯æ¨¡çµ„ã€‚âœ…
*   **æ ¼å¼èª¿æ•´å¼•æ“ (Format Application Engine)**ï¼šè² è²¬æ ¹æ“šåµæ¸¬åˆ°çš„è¦å‰‡ï¼Œä¿®æ”¹ç›®æ¨™è«–æ–‡æ ¼å¼çš„å¾Œç«¯æ¨¡çµ„ã€‚âœ…
*   **Web UI (User Interface)**ï¼šæä¾›ä½¿ç”¨è€…æ“ä½œä»‹é¢çš„ç¶²é æ‡‰ç”¨ç¨‹å¼ã€‚âœ…
*   **æ ¼å¼è¦å‰‡ (Formatting Rules)**ï¼šå¾ç¯„æœ¬ä¸­æå–å‡ºçš„ï¼Œé—œæ–¼å­—é«”ã€å­—è™Ÿã€æ®µè½ã€æ¨™é¡Œå±¤ç´šç­‰çš„å…·é«”è¦ç¯„ã€‚âœ…
*   **ç´¢å¼•é  (Index Pages)**ï¼šæŒ‡ç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ç­‰è‡ªå‹•ç”Ÿæˆçš„é é¢ã€‚âœ…
*   **Idempotency (å†ªç­‰æ€§)**ï¼šæŒ‡å°åŒä¸€å€‹æ“ä½œé‡è¤‡åŸ·è¡Œå¤šæ¬¡ï¼Œå…¶çµæœèˆ‡åŸ·è¡Œä¸€æ¬¡ç›¸åŒã€‚åœ¨æ‰¹æ¬¡è™•ç†ä¸­è‡³é—œé‡è¦ã€‚âš ï¸

# 5. éœ€æ±‚ç¸½è¦½

| ID    | éœ€æ±‚æè¿°                                     | å„ªå…ˆç´š | ç¢ºå®šç¨‹åº¦ |
| :---- | :------------------------------------------- | :----- | :------- |
| FR-01 | ä½¿ç”¨è€…å¯ä¸Šå‚³è«–æ–‡ç¯„æœ¬ (Word/PDF)ã€‚            | P1     | âœ…        |
| FR-02 | ä½¿ç”¨è€…å¯ä¸Šå‚³ç›®æ¨™è«–æ–‡ (Word)ã€‚                | P1     | âœ…        |
| FR-03 | ç³»çµ±èƒ½è‡ªå‹•åµæ¸¬ç¯„æœ¬ä¸­çš„æ ¼å¼è¦å‰‡ã€‚             | P1     | âœ…        |
| FR-04 | ç³»çµ±èƒ½é è¦½åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡ã€‚                 | P1     | âœ…        |
| FR-05 | ä½¿ç”¨è€…å¯æ‰‹å‹•ä¿®æ”¹åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡ã€‚           | P1     | âœ…        |
| FR-06 | ç³»çµ±èƒ½è‡ªå‹•å¥—ç”¨ç¢ºèªå¾Œçš„æ ¼å¼è‡³ç›®æ¨™è«–æ–‡ã€‚       | P1     | âœ…        |
| FR-07 | ç³»çµ±èƒ½è‡ªå‹•ç”Ÿæˆæˆ–æ›´æ–°è«–æ–‡çš„ç´¢å¼•é ã€‚           | P1     | âœ…        |
| FR-08 | ä½¿ç”¨è€…å¯ä¸‹è¼‰èª¿æ•´å¾Œçš„è«–æ–‡ã€‚                   | P1     | âœ…        |
| FR-09 | ç³»çµ±æä¾›å‹å–„çš„ Web UI ä¾›éç¨‹å¼èƒŒæ™¯ä½¿ç”¨è€…æ“ä½œã€‚ | P1     | âœ…        |
| NFR-01 | æ ¼å¼èª¿æ•´éç¨‹éœ€å…·å‚™å†ªç­‰æ€§ã€‚                   | P1     | âš ï¸        |
| NFR-02 | è™•ç†å¤±æ•—æ™‚éœ€ç™¼å‡ºé€šçŸ¥ã€‚                       | P1     | âš ï¸        |
| NFR-03 | ç³»çµ±éœ€è™•ç†å¸¸è¦‹çš„æª”æ¡ˆä¸Šå‚³èˆ‡è™•ç†éŒ¯èª¤ã€‚         | P2     | âš ï¸        |
| NFR-04 | ç³»çµ±éœ€ç¢ºä¿ä½¿ç”¨è€…ä¸Šå‚³æ–‡ä»¶çš„éš±ç§èˆ‡å®‰å…¨ã€‚       | P2     | âš ï¸        |
| NFR-05 | ç³»çµ±éœ€å…·å‚™è‰¯å¥½çš„æ—¥èªŒèˆ‡ç›£æ§æ©Ÿåˆ¶ã€‚             | P2     | âš ï¸        |
| NFR-06 | ç³»çµ±æ‡‰èƒ½åœ¨åˆç†æ™‚é–“å…§å®Œæˆæ–‡ä»¶è™•ç†ã€‚           | P2     | âš ï¸        |

# 6. åŠŸèƒ½éœ€æ±‚ï¼ˆFunctional Requirementsï¼‰

## 6.1. FR-01: ä¸Šå‚³è«–æ–‡ç¯„æœ¬ âœ…

*   ä½¿ç”¨è€…æ‡‰èƒ½é€é Web UI ä¸Šå‚³ä¸€ä»½è«–æ–‡ç¯„æœ¬æ–‡ä»¶ã€‚
*   æ”¯æ´çš„ç¯„æœ¬æ ¼å¼ï¼šMicrosoft Word (.docx) å’Œ PDF (.pdf)ã€‚
*   ç³»çµ±æ‡‰é©—è­‰æª”æ¡ˆé¡å‹èˆ‡å¤§å°ã€‚

## 6.2. FR-02: ä¸Šå‚³ç›®æ¨™è«–æ–‡ âœ…

*   ä½¿ç”¨è€…æ‡‰èƒ½é€é Web UI ä¸Šå‚³ä¸€ä»½éœ€è¦èª¿æ•´æ ¼å¼çš„ç›®æ¨™è«–æ–‡ã€‚
*   æ”¯æ´çš„ç›®æ¨™è«–æ–‡æ ¼å¼ï¼šMicrosoft Word (.docx)ã€‚
*   ç³»çµ±æ‡‰é©—è­‰æª”æ¡ˆé¡å‹èˆ‡å¤§å°ã€‚

## 6.3. FR-03: æ ¼å¼åµæ¸¬èˆ‡é è¦½ âœ…

*   ç³»çµ±åœ¨æ¥æ”¶è«–æ–‡ç¯„æœ¬å¾Œï¼Œæ‡‰è‡ªå‹•å•Ÿå‹•æ ¼å¼åµæ¸¬æµç¨‹ã€‚
*   åµæ¸¬å…§å®¹æ‡‰åŒ…å«ï¼š
    *   æ¨™é¡Œå±¤ç´šï¼ˆä¸»æ¨™é¡Œã€å‰¯æ¨™é¡Œã€æ¬¡ç´šæ¨™é¡Œç­‰ï¼‰çš„å­—é«”ã€å­—è™Ÿã€ç²—ç´°ã€é¡è‰²ã€æ®µè½é–“è·ã€‚
    *   å…§æ–‡çš„å­—é«”ã€å­—è™Ÿã€è¡Œè·ã€æ®µè½é–“è·ã€‚
    *   åœ–è¡¨æ¨™é¡Œçš„æ ¼å¼ã€‚
    *   é é‚Šè·ã€é ç¢¼æ ¼å¼èˆ‡ä½ç½®ã€‚
    *   ç´¢å¼•é ï¼ˆç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ï¼‰çš„çµæ§‹èˆ‡æ¨£å¼ã€‚
*   åµæ¸¬å®Œæˆå¾Œï¼Œç³»çµ±æ‡‰åœ¨ Web UI ä¸Šå±•ç¤ºåµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡æ‘˜è¦ã€‚

## 6.4. FR-04: æ‰‹å‹•èª¿æ•´åµæ¸¬çµæœ âœ…

*   ä½¿ç”¨è€…æ‡‰èƒ½æª¢è¦–åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡ï¼Œä¸¦é‡å°ä¸æº–ç¢ºçš„éƒ¨åˆ†é€²è¡Œæ‰‹å‹•ä¿®æ”¹ã€‚
*   ä¿®æ”¹ä»‹é¢æ‡‰ç›´è§€ï¼Œä¾‹å¦‚ä¸‹æ‹‰é¸å–®ã€è¼¸å…¥æ¡†ç­‰ã€‚
*   ä¿®æ”¹å¾Œï¼Œç³»çµ±æ‡‰èƒ½å„²å­˜é€™äº›è‡ªå®šç¾©çš„æ ¼å¼è¦å‰‡ã€‚

## 6.5. FR-05: è‡ªå‹•å¥—ç”¨æ ¼å¼ âœ…

*   ä½¿ç”¨è€…ç¢ºèªæ ¼å¼è¦å‰‡å¾Œï¼Œç³»çµ±æ‡‰è‡ªå‹•å°‡é€™äº›è¦å‰‡å¥—ç”¨è‡³ç›®æ¨™è«–æ–‡ã€‚
*   å¥—ç”¨ç¯„åœæ‡‰æ¶µè“‹ï¼š
    *   è‡ªå‹•è­˜åˆ¥ä¸¦èª¿æ•´å„ç´šæ¨™é¡Œçš„æ¨£å¼ã€‚
    *   èª¿æ•´å…§æ–‡çš„å­—é«”ã€å­—è™Ÿã€è¡Œè·ã€æ®µè½ã€‚
    *   èª¿æ•´åœ–è¡¨æ¨™é¡Œçš„æ¨£å¼ã€‚
    *   èª¿æ•´é é‚Šè·èˆ‡é ç¢¼ã€‚

## 6.6. FR-06: ç´¢å¼•é ç”Ÿæˆ âœ…

*   ç³»çµ±æ‡‰æ ¹æ“šç›®æ¨™è«–æ–‡çš„å…§å®¹ï¼Œè‡ªå‹•ç”Ÿæˆæˆ–æ›´æ–°ç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ã€‚
*   ç´¢å¼•é çš„æ¨£å¼æ‡‰ç¬¦åˆåµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡ã€‚

## 6.7. FR-07: ä¸‹è¼‰èª¿æ•´å¾Œçš„è«–æ–‡ âœ…

*   æ ¼å¼èª¿æ•´å®Œæˆå¾Œï¼Œä½¿ç”¨è€…æ‡‰èƒ½é€é Web UI ä¸‹è¼‰å·²å¥—ç”¨æ–°æ ¼å¼çš„ Word è«–æ–‡æ–‡ä»¶ã€‚

## 6.8. FR-08: Web UI æ“ä½œ âœ…

*   Web UI æ‡‰æä¾›æ¸…æ™°çš„æ­¥é©Ÿå¼•å°ï¼Œç¢ºä¿éç¨‹å¼èƒŒæ™¯ä½¿ç”¨è€…ä¹Ÿèƒ½é †åˆ©å®Œæˆæ“ä½œã€‚
*   åŒ…å«æª”æ¡ˆä¸Šå‚³å€ã€é€²åº¦é¡¯ç¤ºã€çµæœé è¦½ã€éŒ¯èª¤æç¤ºç­‰ã€‚

# 7. éåŠŸèƒ½éœ€æ±‚ï¼ˆNFRï¼‰

## 7.1. æ•ˆèƒ½ (Performance) âš ï¸

*   **è™•ç†æ™‚é–“**ï¼šå–®ä»½ 100 é ä»¥å…§çš„è«–æ–‡ï¼Œå¾ä¸Šå‚³åˆ°å®Œæˆæ ¼å¼èª¿æ•´ï¼Œæ‡‰åœ¨ 5 åˆ†é˜å…§å®Œæˆã€‚
*   **æ–‡ä»¶å¤§å°**ï¼šæ”¯æ´è™•ç†æœ€å¤§ 50MB çš„ Word/PDF æ–‡ä»¶ã€‚
*   **ä¸¦ç™¼è™•ç†**ï¼šåˆæœŸæ”¯æ´å–®ä¸€ä½¿ç”¨è€…è™•ç†ï¼Œæœªä¾†å¯è€ƒæ…®æ“´å±•è‡³æœ‰é™çš„ä¸¦ç™¼è™•ç†èƒ½åŠ›ã€‚

## 7.2. å¯é æ€§ (Reliability) âš ï¸

*   **éŒ¯èª¤è™•ç†**ï¼šç³»çµ±æ‡‰èƒ½å¦¥å–„è™•ç†æ–‡ä»¶è§£æå¤±æ•—ã€æ ¼å¼å¥—ç”¨éŒ¯èª¤ç­‰ç•°å¸¸æƒ…æ³ï¼Œä¸¦æä¾›æ˜ç¢ºçš„éŒ¯èª¤è¨Šæ¯ã€‚
*   **é‡è©¦æ©Ÿåˆ¶**ï¼šå°æ–¼å¯æ¢å¾©çš„æš«æ™‚æ€§éŒ¯èª¤ï¼Œç³»çµ±æ‡‰å…·å‚™æœ‰é™æ¬¡çš„è‡ªå‹•é‡è©¦æ©Ÿåˆ¶ã€‚
*   **è³‡æ–™å®Œæ•´æ€§**ï¼šç¢ºä¿æ ¼å¼èª¿æ•´éç¨‹ä¸­ï¼Œè«–æ–‡å…§å®¹ä¸è¢«ç ´å£æˆ–éºå¤±ã€‚
*   **å†ªç­‰æ€§ (Idempotency)**ï¼šå°åŒä¸€ä»½ç›®æ¨™è«–æ–‡é‡è¤‡åŸ·è¡Œæ ¼å¼èª¿æ•´ï¼Œæ‡‰ç”¢ç”Ÿç›¸åŒçš„çµæœï¼Œä¸æœƒå› é‡è¤‡åŸ·è¡Œè€Œå¼•å…¥æ–°çš„éŒ¯èª¤æˆ–ä¸ä¸€è‡´ã€‚é€™æ˜¯æ‰¹æ¬¡è™•ç†çš„é»ƒé‡‘æ³•å‰‡ï¼Œå‹™å¿…ç¢ºä¿ï¼

## 7.3. å¯ç”¨æ€§ (Usability) âœ…

*   **ä½¿ç”¨è€…é«”é©—**ï¼šWeb UI ä»‹é¢æ‡‰ç›´è§€ã€æ˜“æ–¼ç†è§£ï¼Œæ“ä½œæµç¨‹æ¸…æ™°ã€‚
*   **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šWeb UI æ‡‰èƒ½åœ¨ä¸åŒè¢å¹•å°ºå¯¸ä¸‹æä¾›è‰¯å¥½çš„é¡¯ç¤ºæ•ˆæœã€‚

## 7.4. å®‰å…¨æ€§ (Security) âš ï¸

*   **æª”æ¡ˆä¸Šå‚³**ï¼šå°ä¸Šå‚³æ–‡ä»¶é€²è¡Œé¡å‹èˆ‡å…§å®¹æª¢æŸ¥ï¼Œé˜²æ­¢æƒ¡æ„æ–‡ä»¶ä¸Šå‚³ã€‚
*   **è³‡æ–™éš±ç§**ï¼šä½¿ç”¨è€…ä¸Šå‚³çš„è«–æ–‡å…§å®¹æ‡‰è¢«è¦–ç‚ºæ•æ„Ÿè³‡æ–™ï¼Œéœ€ç¢ºä¿å‚³è¼¸èˆ‡å„²å­˜éç¨‹çš„å®‰å…¨æ€§ï¼ˆä¾‹å¦‚ï¼šä½¿ç”¨ HTTPSï¼ŒåŠ å¯†å„²å­˜ï¼‰ã€‚
*   **å­˜å–æ§åˆ¶**ï¼šç¢ºä¿åªæœ‰ä¸Šå‚³è€…æˆ–æˆæ¬Šä½¿ç”¨è€…æ‰èƒ½å­˜å–å…¶æ–‡ä»¶ã€‚
*   **Web å®‰å…¨**ï¼šé˜²ç¯„å¸¸è¦‹çš„ Web æ¼æ´ï¼Œå¦‚ XSS, CSRF, SQL Injection (å¦‚æœæ¶‰åŠè³‡æ–™åº«)ã€‚

## 7.5. å¯ç¶­è­·æ€§ (Maintainability) âš ï¸

*   **ç¨‹å¼ç¢¼å“è³ª**ï¼šéµå¾ª PEP 8 è¦ç¯„ï¼Œç¨‹å¼ç¢¼æ‡‰æ¨¡çµ„åŒ–ã€å¯è®€æ€§é«˜ï¼Œä¸¦æœ‰é©ç•¶è¨»è§£ã€‚
*   **æ–‡ä»¶**ï¼šæä¾›é–‹ç™¼è€…æ–‡ä»¶ï¼Œèªªæ˜ç³»çµ±æ¶æ§‹ã€æ¨¡çµ„åŠŸèƒ½èˆ‡éƒ¨ç½²æŒ‡å—ã€‚

## 7.6. å¯æ“´å±•æ€§ (Scalability) âš ï¸

*   **æ ¼å¼æ”¯æ´**ï¼šæ¶æ§‹è¨­è¨ˆæ‡‰è€ƒæ…®æœªä¾†æ“´å±•æ”¯æ´æ›´å¤šæ–‡ä»¶æ ¼å¼æˆ–æ›´è¤‡é›œæ’ç‰ˆè¦å‰‡çš„å¯èƒ½æ€§ã€‚

# 8. ç³»çµ±æ¶æ§‹

æœ¬ç³»çµ±æ¡ç”¨ Client-Server æ¶æ§‹ï¼Œå‰ç«¯ç‚º Web UIï¼Œå¾Œç«¯ç‚º Python æ‡‰ç”¨æœå‹™ï¼Œè² è²¬æ–‡ä»¶è™•ç†ã€‚

```
+-----------------+       +---------------------+       +---------------------+
|   Web Browser   |       |   Backend Service   |       |    File Storage     |
|   (Frontend)    |       |     (Python App)    |       |    (Local/Cloud)    |
+-----------------+       +---------------------+       +---------------------+
        |                         ^       ^                       ^
        | (1. Upload Template)    |       | (3. Get Rules)        | (4. Save/Load Docs)
        |------------------------>|       |<----------------------|
        |                         |       |                       |
        | (2. Upload Target Doc)  |       | (5. Apply Format)     |
        |------------------------>|       |---------------------->|
        |                         |       |                       |
        | (6. Preview/Confirm)    |       | (7. Download Result)  |
        |<------------------------|       |<----------------------|
        |                         |       |                       |
        |                         +-------+                       |
        |                                 |                       |
        |                         +---------------------+         |
        |                         | Formatting Engine   |         |
        |                         | (Doc Parsing/Gen)   |         |
        |                         +---------------------+         |
        |                                 ^                       |
        |                                 | (Internal API Calls)  |
        |                                 +-----------------------+
```

## 8.1. æ¨¡çµ„è·è²¬ âœ…

*   **Web UI (Frontend)**ï¼š
    *   è² è²¬ä½¿ç”¨è€…ä»‹é¢å‘ˆç¾èˆ‡äº’å‹•ã€‚
    *   è™•ç†æª”æ¡ˆä¸Šå‚³ã€é€²åº¦é¡¯ç¤ºã€æ ¼å¼é è¦½èˆ‡æ‰‹å‹•èª¿æ•´ã€‚
    *   é€é API èˆ‡å¾Œç«¯æœå‹™æºé€šã€‚
    *   **æŠ€è¡“æ£§**ï¼šâ“ å¾…ç¢ºèª (e.g., React, Vue, Angular, æˆ–ç´” HTML/JS)
*   **Backend Service (Python App)**ï¼š
    *   æä¾› RESTful API ä¾›å‰ç«¯å‘¼å«ã€‚
    *   å”èª¿æ•´å€‹è™•ç†æµç¨‹ï¼šæ¥æ”¶æ–‡ä»¶ã€å‘¼å«æ ¼å¼åµæ¸¬èˆ‡èª¿æ•´å¼•æ“ã€ç®¡ç†æ–‡ä»¶å„²å­˜ã€‚
    *   è™•ç†ä½¿ç”¨è€…èªè­‰èˆ‡æˆæ¬Š (å¦‚æœéœ€è¦)ã€‚
    *   **æŠ€è¡“æ£§**ï¼šPython (e.g., Flask, FastAPI, Django)ã€‚
*   **Formatting Engine**ï¼š
    *   **æ ¼å¼åµæ¸¬æ¨¡çµ„**ï¼šè§£æ Word/PDF ç¯„æœ¬ï¼Œæå–æ ¼å¼è¦å‰‡ã€‚
        *   **æŠ€è¡“æ£§**ï¼šPython-docx (for Word), PyPDF2/pdfminer.six (for PDF) âš ï¸
    *   **æ ¼å¼èª¿æ•´æ¨¡çµ„**ï¼šæ ¹æ“šè¦å‰‡ä¿®æ”¹ç›®æ¨™ Word æ–‡ä»¶ã€‚
        *   **æŠ€è¡“æ£§**ï¼šPython-docx âš ï¸
*   **File Storage**ï¼š
    *   å®‰å…¨åœ°å„²å­˜ä¸Šå‚³çš„åŸå§‹æ–‡ä»¶ã€è™•ç†ä¸­çš„æ–‡ä»¶åŠæœ€çµ‚çµæœã€‚
    *   **æŠ€è¡“æ£§**ï¼šæœ¬åœ°æ–‡ä»¶ç³»çµ± (for PoC/å–®æ©Ÿéƒ¨ç½²) æˆ–é›²ç«¯å„²å­˜æœå‹™ (e.g., AWS S3, Azure Blob Storage) âš ï¸

## 8.2. è³‡æ–™æµ âœ…

1.  ä½¿ç”¨è€…é€é Web UI ä¸Šå‚³è«–æ–‡ç¯„æœ¬ã€‚
2.  Web UI å°‡ç¯„æœ¬æ–‡ä»¶ç™¼é€è‡³ Backend Serviceã€‚
3.  Backend Service å°‡ç¯„æœ¬å„²å­˜è‡³ File Storageã€‚
4.  Backend Service å‘¼å« Formatting Engine çš„æ ¼å¼åµæ¸¬æ¨¡çµ„ã€‚
5.  æ ¼å¼åµæ¸¬æ¨¡çµ„è§£æç¯„æœ¬ï¼Œæå–æ ¼å¼è¦å‰‡ï¼Œä¸¦å°‡çµæœè¿”å›çµ¦ Backend Serviceã€‚
6.  Backend Service å°‡åµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡å‚³é€å› Web UI ä¾›ä½¿ç”¨è€…é è¦½èˆ‡ç¢ºèªã€‚
7.  ä½¿ç”¨è€…ç¢ºèªæˆ–ä¿®æ”¹æ ¼å¼è¦å‰‡å¾Œï¼ŒWeb UI å°‡æœ€çµ‚è¦å‰‡èˆ‡ç›®æ¨™è«–æ–‡ç™¼é€è‡³ Backend Serviceã€‚
8.  Backend Service å°‡ç›®æ¨™è«–æ–‡å„²å­˜è‡³ File Storageã€‚
9.  Backend Service å‘¼å« Formatting Engine çš„æ ¼å¼èª¿æ•´æ¨¡çµ„ï¼Œå‚³å…¥ç›®æ¨™è«–æ–‡èˆ‡ç¢ºèªçš„æ ¼å¼è¦å‰‡ã€‚
10. æ ¼å¼èª¿æ•´æ¨¡çµ„è™•ç†è«–æ–‡ï¼Œå°‡èª¿æ•´å¾Œçš„çµæœå„²å­˜å› File Storageã€‚
11. Backend Service é€šçŸ¥ Web UI è™•ç†å®Œæˆã€‚
12. ä½¿ç”¨è€…é€é Web UI ä¸‹è¼‰èª¿æ•´å¾Œçš„è«–æ–‡ã€‚

# 9. è³‡æ–™è¨­è¨ˆ

## 9.1. è¼¸å…¥è³‡æ–™ âœ…

*   **è«–æ–‡ç¯„æœ¬**ï¼š
    *   Word (.docx)ï¼šåŒ…å«æ¨£å¼ã€æ¨™é¡Œå±¤ç´šã€å…§æ–‡æ ¼å¼ç­‰ã€‚
    *   PDF (.pdf)ï¼šä¸»è¦ç”¨æ–¼è¦–è¦ºåŒ–è§£æï¼Œæå–æ–‡å­—ã€å­—é«”ã€å¤§å°ã€ä½ç½®ç­‰è³‡è¨Šä¾†æ¨æ–·æ ¼å¼ã€‚
*   **ç›®æ¨™è«–æ–‡**ï¼š
    *   Word (.docx)ï¼šå¾…èª¿æ•´çš„åŸå§‹è«–æ–‡æ–‡ä»¶ã€‚

## 9.2. è¼¸å‡ºè³‡æ–™ âœ…

*   **èª¿æ•´å¾Œçš„è«–æ–‡**ï¼š
    *   Word (.docx)ï¼šå·²å¥—ç”¨æ–°æ ¼å¼çš„è«–æ–‡æ–‡ä»¶ã€‚

## 9.3. å…§éƒ¨è³‡æ–™ âš ï¸

*   **æ ¼å¼è¦å‰‡å„²å­˜**ï¼š
    *   çµæ§‹ï¼šJSON æˆ– YAML æ ¼å¼ï¼Œå„²å­˜è§£æå‡ºçš„æ¨™é¡Œæ¨£å¼ã€å…§æ–‡æ¨£å¼ã€é é‚Šè·ã€ç´¢å¼•é è¨­å®šç­‰ã€‚
    *   ç¯„ä¾‹ï¼š
        ```json
        {
          "headings": {
            "level1": {"font": "Times New Roman", "size": 16, "bold": true, "spacing_after": 12},
            "level2": {"font": "Times New Roman", "size": 14, "bold": true, "spacing_after": 8}
          },
          "body_text": {"font": "Times New Roman", "size": 12, "line_spacing": 1.5},
          "margins": {"top": 1, "bottom": 1, "left": 1.25, "right": 1},
          "index_page_style": {"font": "Times New Roman", "size": 12}
        }
        ```
*   **è™•ç†ç‹€æ…‹**ï¼š
    *   å„²å­˜æ¯å€‹ä»»å‹™çš„ç‹€æ…‹ï¼ˆä¸Šå‚³ä¸­ã€åµæ¸¬ä¸­ã€å¾…ç¢ºèªã€èª¿æ•´ä¸­ã€å®Œæˆã€å¤±æ•—ï¼‰ã€‚
    *   å¯èƒ½éœ€è¦ä¸€å€‹ç°¡æ˜“çš„è³‡æ–™åº« (e.g., SQLite for single-user, PostgreSQL for multi-user) ä¾†æŒä¹…åŒ–ä»»å‹™ç‹€æ…‹å’Œæ–‡ä»¶å…ƒæ•¸æ“šã€‚â“

## 9.4. Schema Drift (æ¶æ§‹æ¼‚ç§») âš ï¸

*   **é¢¨éšª**ï¼šWord/PDF æ–‡ä»¶å…§éƒ¨çµæ§‹è¤‡é›œä¸”å¤šæ¨£ï¼Œä¸åŒç‰ˆæœ¬æˆ–ç·¨è¼¯æ–¹å¼å¯èƒ½å°è‡´è§£æå™¨é›£ä»¥æº–ç¢ºè­˜åˆ¥æ‰€æœ‰å…ƒç´ ã€‚
*   **é˜²å‘†**ï¼š
    *   æ ¼å¼åµæ¸¬å¼•æ“éœ€å…·å‚™ä¸€å®šçš„å½ˆæ€§èˆ‡å®¹éŒ¯èƒ½åŠ›ã€‚
    *   æä¾›ä½¿ç”¨è€…æ‰‹å‹•ä¿®æ­£åµæ¸¬çµæœçš„åŠŸèƒ½ï¼Œä½œç‚ºæœ€çµ‚é˜²ç·šã€‚
    *   å®šæœŸæ›´æ–°è§£æåº«ï¼Œä»¥æ”¯æ´æ–°çš„æ–‡ä»¶æ ¼å¼ç‰¹æ€§ã€‚

# 10. ä»‹é¢è¦æ ¼

## 10.1. Web UI ä»‹é¢æµç¨‹ âœ…

1.  **é¦–é /ä¸Šå‚³é **ï¼š
    *   å€å¡Š 1ï¼šä¸Šå‚³è«–æ–‡ç¯„æœ¬ (Word/PDF) æŒ‰éˆ•èˆ‡æª”æ¡ˆé¸æ“‡å™¨ã€‚
    *   å€å¡Š 2ï¼šä¸Šå‚³ç›®æ¨™è«–æ–‡ (Word) æŒ‰éˆ•èˆ‡æª”æ¡ˆé¸æ“‡å™¨ã€‚
    *   é€²åº¦æ¢æˆ–ç‹€æ…‹é¡¯ç¤ºå€ã€‚
    *   ã€Œé–‹å§‹åµæ¸¬ã€æŒ‰éˆ•ã€‚
2.  **æ ¼å¼åµæ¸¬çµæœé è¦½èˆ‡ç¢ºèªé **ï¼š
    *   é¡¯ç¤ºåµæ¸¬åˆ°çš„æ ¼å¼è¦å‰‡æ‘˜è¦ï¼ˆä¾‹å¦‚ï¼šæ¨™é¡Œ 1 æ¨£å¼ã€å…§æ–‡æ¨£å¼ç­‰ï¼‰ã€‚
    *   é‡å°æ¯å€‹è¦å‰‡æä¾›ä¿®æ”¹æŒ‰éˆ•æˆ–è¼¸å…¥æ¡†ã€‚
    *   ã€Œç¢ºèªä¸¦å¥—ç”¨ã€æŒ‰éˆ•ã€‚
    *   ã€Œå–æ¶ˆã€æˆ–ã€Œé‡æ–°ä¸Šå‚³ã€æŒ‰éˆ•ã€‚
3.  **è™•ç†é€²åº¦é **ï¼š
    *   é¡¯ç¤ºæ ¼å¼å¥—ç”¨é€²åº¦æ¢æˆ–æ–‡å­—ç‹€æ…‹ã€‚
    *   é è¨ˆå®Œæˆæ™‚é–“ (å¦‚æœå¯è¡Œ)ã€‚
    *   è™•ç†å®Œæˆå¾Œé¡¯ç¤ºã€Œä¸‹è¼‰è«–æ–‡ã€æŒ‰éˆ•ã€‚
4.  **çµæœä¸‹è¼‰é **ï¼š
    *   ã€Œä¸‹è¼‰èª¿æ•´å¾Œçš„è«–æ–‡ã€æŒ‰éˆ•ã€‚
    *   é¡¯ç¤ºè™•ç†çµæœæ‘˜è¦ï¼ˆæˆåŠŸ/å¤±æ•—ï¼Œè€—æ™‚ï¼‰ã€‚
    *   éŒ¯èª¤è¨Šæ¯é¡¯ç¤ºå€ (å¦‚æœè™•ç†å¤±æ•—)ã€‚

## 10.2. å¾Œç«¯ API ä»‹é¢ (Internal) âš ï¸

*   **POST /api/upload_template**ï¼šä¸Šå‚³è«–æ–‡ç¯„æœ¬ã€‚
    *   Request: `multipart/form-data` (file)
    *   Response: `{ "status": "success", "template_id": "uuid" }`
*   **POST /api/upload_target**ï¼šä¸Šå‚³ç›®æ¨™è«–æ–‡ã€‚
    *   Request: `multipart/form-data` (file)
    *   Response: `{ "status": "success", "target_id": "uuid" }`
*   **POST /api/detect_format**ï¼šè§¸ç™¼æ ¼å¼åµæ¸¬ã€‚
    *   Request: `{ "template_id": "uuid" }`
    *   Response: `{ "status": "success", "format_rules": {...} }`
*   **POST /api/apply_format**ï¼šå¥—ç”¨æ ¼å¼ã€‚
    *   Request: `{ "target_id": "uuid", "format_rules": {...} }`
    *   Response: `{ "status": "processing", "job_id": "uuid" }`
*   **GET /api/job_status/{job_id}**ï¼šæŸ¥è©¢è™•ç†ç‹€æ…‹ã€‚
    *   Response: `{ "status": "completed/failed/processing", "progress": 80, "result_url": "..." }`
*   **GET /api/download/{file_id}**ï¼šä¸‹è¼‰æ–‡ä»¶ã€‚
    *   Response: `application/vnd.openxmlformats-officedocument.wordprocessingml.document` (file stream)

# 11. æµç¨‹è¨­è¨ˆ

æœ¬ç³»çµ±çš„æ ¸å¿ƒæ˜¯æ‰¹æ¬¡è™•ç†æµç¨‹ï¼Œå¼·èª¿ç©©å®šæ€§ã€å¯é‡è·‘æ€§èˆ‡éŒ¯èª¤è™•ç†ã€‚

## 11.1. ä¸»æµç¨‹ï¼šè«–æ–‡æ ¼å¼èª¿æ•´ âœ…

1.  **æª”æ¡ˆä¸Šå‚³**ï¼š
    *   ä½¿ç”¨è€…é€é Web UI ä¸Šå‚³è«–æ–‡ç¯„æœ¬ (Word/PDF) åŠç›®æ¨™è«–æ–‡ (Word)ã€‚
    *   å¾Œç«¯æ¥æ”¶æª”æ¡ˆï¼Œé€²è¡ŒåŸºæœ¬é©—è­‰ (é¡å‹ã€å¤§å°)ã€‚
    *   æª”æ¡ˆå„²å­˜è‡³ File Storageï¼Œä¸¦è¨˜éŒ„æª”æ¡ˆå…ƒæ•¸æ“šã€‚
2.  **æ ¼å¼åµæ¸¬**ï¼š
    *   å¾Œç«¯è§¸ç™¼æ ¼å¼åµæ¸¬å¼•æ“ï¼Œè§£æè«–æ–‡ç¯„æœ¬ã€‚
    *   **é¢¨éšª**ï¼šPDF è§£æå¯èƒ½ä¸å¤ ç²¾ç¢ºï¼ŒWord æ¨£å¼è§£æä¹Ÿå¯èƒ½é‡åˆ°éæ¨™æº–ç”¨æ³•ã€‚
    *   **é˜²å‘†**ï¼šåµæ¸¬çµæœéœ€æœ‰ä¿¡å¿ƒåˆ†æ•¸ï¼Œä½åˆ†æ™‚æç¤ºä½¿ç”¨è€…ä»”ç´°æª¢æŸ¥ã€‚
3.  **çµæœç¢ºèªèˆ‡ä¿®æ­£**ï¼š
    *   åµæ¸¬çµæœå‚³å› Web UIã€‚
    *   ä½¿ç”¨è€…é è¦½ã€ç¢ºèªæˆ–æ‰‹å‹•ä¿®æ­£æ ¼å¼è¦å‰‡ã€‚
    *   ä¿®æ­£å¾Œçš„è¦å‰‡å„²å­˜ã€‚
4.  **æ ¼å¼å¥—ç”¨**ï¼š
    *   ä½¿ç”¨è€…ç¢ºèªå¾Œï¼Œå¾Œç«¯è§¸ç™¼æ ¼å¼èª¿æ•´å¼•æ“ã€‚
    *   å¼•æ“è¼‰å…¥ç›®æ¨™è«–æ–‡èˆ‡ç¢ºèªçš„æ ¼å¼è¦å‰‡ã€‚
    *   **Chunked Processing (åˆ†å¡Šè™•ç†)**ï¼šå°æ–¼å¤§å‹è«–æ–‡ï¼Œè€ƒæ…®åˆ†æ®µè®€å–ã€è™•ç†èˆ‡å¯«å…¥ï¼Œé¿å…ä¸€æ¬¡æ€§è¼‰å…¥æ•´å€‹æ–‡ä»¶å°è‡´ OOM (Out Of Memory)ã€‚ä¾‹å¦‚ï¼ŒæŒ‰ç« ç¯€è™•ç†ã€‚âš ï¸
    *   **Idempotency (å†ªç­‰æ€§)**ï¼šæ ¼å¼èª¿æ•´æ“ä½œå¿…é ˆæ˜¯å†ªç­‰çš„ã€‚é€™æ„å‘³è‘—ï¼Œå¦‚æœå› ç‚ºæŸäº›åŸå› éœ€è¦é‡æ–°åŸ·è¡Œæ ¼å¼å¥—ç”¨ï¼Œçµæœæ‡‰è©²èˆ‡ç¬¬ä¸€æ¬¡åŸ·è¡Œç›¸åŒï¼Œä¸æœƒç”¢ç”Ÿé¡å¤–çš„å‰¯ä½œç”¨æˆ–éŒ¯èª¤ã€‚ä¾‹å¦‚ï¼Œç¢ºä¿æ¨£å¼æ‡‰ç”¨æ˜¯è¦†è“‹è€Œéç–ŠåŠ ã€‚âš ï¸
    *   **Checkpoint (æª¢æŸ¥é»)**ï¼šå¦‚æœæ¡ç”¨åˆ†å¡Šè™•ç†ï¼Œæ¯å®Œæˆä¸€å€‹å€å¡Šå¯è¨˜éŒ„é€²åº¦ï¼Œä»¥ä¾¿åœ¨å¤±æ•—æ™‚å¾æœ€è¿‘çš„æª¢æŸ¥é»æ¢å¾©ã€‚âš ï¸
5.  **ç´¢å¼•é ç”Ÿæˆ**ï¼š
    *   åœ¨æ ¼å¼å¥—ç”¨å®Œæˆå¾Œï¼Œè‡ªå‹•æƒæè«–æ–‡çµæ§‹ï¼Œç”Ÿæˆæˆ–æ›´æ–°ç›®éŒ„ã€åœ–ç›®éŒ„ã€è¡¨ç›®éŒ„ã€‚
6.  **çµæœä¸‹è¼‰**ï¼š
    *   èª¿æ•´å¾Œçš„è«–æ–‡å„²å­˜è‡³ File Storageã€‚
    *   Web UI æä¾›ä¸‹è¼‰é€£çµã€‚

## 11.2. éŒ¯èª¤è™•ç†æµç¨‹ âš ï¸

*   **æª”æ¡ˆä¸Šå‚³å¤±æ•—**ï¼šç¶²è·¯å•é¡Œã€æª”æ¡ˆæå£ã€æ ¼å¼ä¸ç¬¦ã€‚
    *   Web UI é¡¯ç¤ºæ˜ç¢ºéŒ¯èª¤è¨Šæ¯ã€‚
*   **æ ¼å¼åµæ¸¬å¤±æ•—**ï¼šç¯„æœ¬æ–‡ä»¶æå£ã€æ ¼å¼éæ–¼è¤‡é›œç„¡æ³•è§£æã€‚
    *   ç³»çµ±è¨˜éŒ„éŒ¯èª¤æ—¥èªŒï¼Œä¸¦é€šçŸ¥ä½¿ç”¨è€…åµæ¸¬å¤±æ•—ï¼Œå»ºè­°æ‰‹å‹•è¼¸å…¥æˆ–æ›´æ›ç¯„æœ¬ã€‚
*   **æ ¼å¼å¥—ç”¨å¤±æ•—**ï¼šç›®æ¨™è«–æ–‡æå£ã€å¥—ç”¨è¦å‰‡èˆ‡è«–æ–‡å…§å®¹è¡çªã€OOMã€‚
    *   ç³»çµ±è¨˜éŒ„è©³ç´°éŒ¯èª¤æ—¥èªŒï¼Œä¸¦é€šçŸ¥ä½¿ç”¨è€…è™•ç†å¤±æ•—ã€‚
    *   **éœé»˜å¤±æ•— (Silent Failure)**ï¼šé€™æ˜¯æ‰¹æ¬¡è™•ç†çš„å¤§å¿Œã€‚ä»»ä½•å¤±æ•—éƒ½å¿…é ˆè¢«æ•ç²ä¸¦ç™¼å‡ºé€šçŸ¥ã€‚âš ï¸
*   **é•·æ™‚é–“é– (Long-running Lock)**ï¼šå¦‚æœè™•ç†éç¨‹æ¶‰åŠå°æ–‡ä»¶æˆ–è³‡æºçš„ç¨ä½”é–å®šï¼Œéœ€ç¢ºä¿é–å®šæ©Ÿåˆ¶å¥å£¯ï¼Œé¿å…å› ç•°å¸¸ä¸­æ–·å°è‡´è³‡æºæ°¸ä¹…é–å®šã€‚âš ï¸

# 12. æ¬Šé™èˆ‡å®‰å…¨

## 12.1. æª”æ¡ˆå­˜å–å®‰å…¨ âš ï¸

*   **æª”æ¡ˆå„²å­˜**ï¼šä¸Šå‚³çš„æ–‡ä»¶æ‡‰å„²å­˜åœ¨å®‰å…¨ã€éš”é›¢çš„ç›®éŒ„ä¸­ï¼Œé¿å…å…¬é–‹å­˜å–ã€‚
*   **å­˜å–æ§åˆ¶**ï¼šæ¯å€‹ä¸Šå‚³çš„æ–‡ä»¶æ‡‰èˆ‡å…¶ä¸Šå‚³è€…é—œè¯ï¼Œç¢ºä¿åªæœ‰è©²ä½¿ç”¨è€…æ‰èƒ½ä¸‹è¼‰æˆ–æŸ¥çœ‹å…¶æ–‡ä»¶ã€‚
*   **æª”æ¡ˆæ¸…ç†**ï¼šè¨­å®šæ–‡ä»¶ç”Ÿå‘½é€±æœŸï¼Œè™•ç†å®Œæˆæˆ–ä¸€æ®µæ™‚é–“å¾Œè‡ªå‹•åˆªé™¤åŸå§‹èˆ‡è™•ç†éçš„æ–‡ä»¶ï¼Œæ¸›å°‘è³‡æ–™æ´©éœ²é¢¨éšªã€‚

## 12.2. è³‡æ–™éš±ç§ âœ…

*   ä½¿ç”¨è€…è«–æ–‡å…§å®¹å¯èƒ½åŒ…å«æ•æ„Ÿè³‡è¨Šã€‚ç³»çµ±éœ€æ‰¿è«¾ä¸å°å…§å®¹é€²è¡Œåˆ†æã€å„²å­˜æˆ–åˆ†äº«ï¼Œåƒ…ç”¨æ–¼æ ¼å¼èª¿æ•´ã€‚
*   å‚³è¼¸éç¨‹ä½¿ç”¨ HTTPS åŠ å¯†ã€‚
*   å„²å­˜æ•æ„Ÿæ–‡ä»¶æ™‚ï¼Œè€ƒæ…®æª”æ¡ˆåŠ å¯†ã€‚

## 12.3. Web æ‡‰ç”¨å®‰å…¨ âš ï¸

*   **è¼¸å…¥é©—è­‰**ï¼šå°æ‰€æœ‰ä½¿ç”¨è€…è¼¸å…¥ï¼ˆåŒ…æ‹¬æª”æ¡ˆä¸Šå‚³ï¼‰é€²è¡Œåš´æ ¼é©—è­‰ï¼Œé˜²æ­¢æ³¨å…¥æ”»æ“Š (XSS, SQL Injection)ã€‚
*   **CSRF é˜²è­·**ï¼šå¯¦æ–½ CSRF Token æ©Ÿåˆ¶ï¼Œé˜²æ­¢è·¨ç«™è«‹æ±‚å½é€ ã€‚
*   **èº«ä»½é©—è­‰èˆ‡æˆæ¬Š**ï¼šå¦‚æœæœªä¾†æœ‰å¤šä½¿ç”¨è€…ï¼Œéœ€å»ºç«‹å®Œå–„çš„ç”¨æˆ¶è¨»å†Šã€ç™»å…¥èˆ‡æ¬Šé™ç®¡ç†æ©Ÿåˆ¶ã€‚

# 13. æ—¥èªŒèˆ‡ç›£æ§

æ‰¹æ¬¡è™•ç†æœ€æ€•çš„å°±æ˜¯ã€Œéœé»˜å¤±æ•—ã€ï¼Œæ‰€ä»¥æ—¥èªŒèˆ‡ç›£æ§æ˜¯é‡ä¸­ä¹‹é‡ã€‚

## 13.1. æ—¥èªŒ (Logging) âš ï¸

*   **æ—¥èªŒç´šåˆ¥**ï¼šä½¿ç”¨ DEBUG, INFO, WARNING, ERROR, CRITICAL ç­‰æ¨™æº–ç´šåˆ¥ã€‚
*   **æ—¥èªŒå…§å®¹**ï¼š
    *   **INFO**ï¼šä»»å‹™é–‹å§‹/çµæŸã€æ–‡ä»¶ä¸Šå‚³/ä¸‹è¼‰ã€ä¸»è¦è™•ç†æ­¥é©Ÿå®Œæˆã€‚
    *   **WARNING**ï¼šæ ¼å¼åµæ¸¬çµæœä¸ç¢ºå®šã€éƒ¨åˆ†æ ¼å¼ç„¡æ³•å®Œç¾å¥—ç”¨ã€‚
    *   **ERROR**ï¼šæ–‡ä»¶è§£æå¤±æ•—ã€æ ¼å¼å¥—ç”¨ç•°å¸¸ã€API å‘¼å«å¤±æ•—ã€‚
    *   **CRITICAL**ï¼šç³»çµ±æ ¸å¿ƒæœå‹™å´©æ½°ã€å„²å­˜ç©ºé–“ä¸è¶³ç­‰åš´é‡å•é¡Œã€‚
*   **æ—¥èªŒæ ¼å¼**ï¼šçµæ§‹åŒ–æ—¥èªŒ (JSON)ï¼ŒåŒ…å«æ™‚é–“æˆ³ã€æ—¥èªŒç´šåˆ¥ã€æ¨¡çµ„ã€è¨Šæ¯ã€ä»»å‹™ IDã€ä½¿ç”¨è€… ID (å¦‚æœé©ç”¨)ã€‚
*   **æ—¥èªŒå„²å­˜**ï¼šå°‡æ—¥èªŒè¼¸å‡ºåˆ°æ–‡ä»¶æˆ–é›†ä¸­å¼æ—¥èªŒç³»çµ± (e.g., ELK Stack, Grafana Loki) â“ã€‚

## 13.2. ç›£æ§ (Monitoring) âš ï¸

*   **æŒ‡æ¨™ (Metrics)**ï¼š
    *   **è™•ç†æˆåŠŸç‡**ï¼šæˆåŠŸå®Œæˆçš„ä»»å‹™æ•¸ / ç¸½ä»»å‹™æ•¸ã€‚
    *   **è™•ç†å¤±æ•—ç‡**ï¼šå¤±æ•—çš„ä»»å‹™æ•¸ / ç¸½ä»»å‹™æ•¸ã€‚
    *   **å¹³å‡è™•ç†æ™‚é–“**ï¼šæ¯å€‹ä»»å‹™çš„å¹³å‡è€—æ™‚ã€‚
    *   **æ–‡ä»¶è™•ç†éšŠ

---

> ğŸ“ è‡ªå‹•èª¿æ•´è«–æ–‡æ ¼å¼ â€” Spec v1 â€” 2026.02.11
